bind_address: "0.0.0.0"

upstream:
  bootstrap_servers:
    - "pkc-312o0.ap-southeast-1.aws.confluent.cloud:9092"
  security_protocol: "SASL_SSL"
  sasl_mechanism: "PLAIN"
  tls:
    ca_certs: "server_ca.pem"
    trust_server_certs: false

downstream:
  security_protocol: "PLAINTEXT"
  # no sasl_mechanism => no client auth

broker_mapping:
  mode: "port_offset"
  port_offset:
    hostname: "broker.beatbox.com"
    base: 9092
    max_broker_id: 64

auth_swap:
  enabled: true
  # no downstream_credentials => all clients map as $anonymous
  upstream_credentials:
  - "${APIK1}=${APIS1}" # supports env vars for secrets
  # optional; omitted means $anonymous maps to itself
  mapping:
  - "$anonymous=${APIK1}"

resolve: []
